# üè† Telegram –ë–æ—Ç –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –∫–≤–∞—Ä—Ç–∏—Ä

–ë–æ—Ç –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –Ω–æ–≤—ã—Ö –æ–±—ä—è–≤–ª–µ–Ω–∏–π –æ –ø—Ä–æ–¥–∞–∂–µ –∫–≤–∞—Ä—Ç–∏—Ä –≤ –ë–∞—Ä–∞–Ω–æ–≤–∏—á–∞—Ö (–ë—Ä–µ—Å—Ç—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å, –ë–µ–ª–∞—Ä—É—Å—å) —Å 7 –ø–æ–ø—É–ª—è—Ä–Ω—ã—Ö —Å–∞–π—Ç–æ–≤ –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç–∏.

## üì° –ò—Å—Ç–æ—á–Ω–∏–∫–∏ –¥–∞–Ω–Ω—ã—Ö

| –°–∞–π—Ç | –û–ø–∏—Å–∞–Ω–∏–µ |
|------|----------|
| üî∏ **Kufar.by** | –ö—Ä—É–ø–Ω–µ–π—à–∞—è –¥–æ—Å–∫–∞ –æ–±—ä—è–≤–ª–µ–Ω–∏–π –ë–µ–ª–∞—Ä—É—Å–∏ |
| üî∏ **Realt.by** | –ü–æ—Ä—Ç–∞–ª –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç–∏ |
| üî∏ **Domovita.by** | –ù–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç—å –ë–µ–ª–∞—Ä—É—Å–∏ |
| üî∏ **Onliner.by** | –ü–æ–ø—É–ª—è—Ä–Ω—ã–π –ø–æ—Ä—Ç–∞–ª |
| üî∏ **GoHome.by** | –ù–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç—å |
| üî∏ **Hata.by** | –†–µ–≥–∏–æ–Ω–∞–ª—å–Ω—ã–µ –æ–±—ä—è–≤–ª–µ–Ω–∏—è |
| üî∏ **Etagi.com** | –ê–≥–µ–Ω—Ç—Å—Ç–≤–æ –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç–∏ |

## üìã –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ 7 —Å–∞–π—Ç–æ–≤ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ
- ‚úÖ –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤—É –∫–æ–º–Ω–∞—Ç
- ‚úÖ –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ —Ü–µ–Ω–µ (–≤ $)
- ‚úÖ –û—Ç–ø—Ä–∞–≤–∫–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º –≤ –ª–∏—á–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è
- ‚úÖ –§–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏ –æ–±—ä—è–≤–ª–µ–Ω–∏–π (1-3 —à—Ç)
- ‚úÖ –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è: –∫–æ–º–Ω–∞—Ç—ã, –º–µ—Ç—Ä–∞–∂, –∞–¥—Ä–µ—Å, —Ü–µ–Ω–∞, –∏—Å—Ç–æ—á–Ω–∏–∫
- ‚úÖ –ü—Ä—è–º—ã–µ —Å—Å—ã–ª–∫–∏ –Ω–∞ –æ–±—ä—è–≤–ª–µ–Ω–∏—è
- ‚úÖ –î–µ–¥—É–ø–ª–∏–∫–∞—Ü–∏—è (–±–µ–∑ –ø–æ–≤—Ç–æ—Ä–Ω—ã—Ö –æ—Ç–ø—Ä–∞–≤–æ–∫)
- ‚úÖ –ò–ò-—Ä–µ–∂–∏–º –¥–ª—è —É–º–Ω–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞ –æ–±—ä—è–≤–ª–µ–Ω–∏–π

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

### –û–±—â–∞—è —Å—Ö–µ–º–∞

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                        main.py                              ‚îÇ
‚îÇ  Entrypoint: –∑–∞–≥—Ä—É–∑–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏, –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ë–î,      ‚îÇ
‚îÇ              –∑–∞–ø—É—Å–∫ –±–æ—Ç–∞ –∏ –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–∞ –∑–∞–¥–∞—á              ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                       ‚îÇ
                       ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                    bot/app.py                               ‚îÇ
‚îÇ  –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è Bot –∏ Dispatcher, —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è middleware,   ‚îÇ
‚îÇ  –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ routers                                        ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                       ‚îÇ
        ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
        ‚îÇ              ‚îÇ              ‚îÇ
        ‚ñº              ‚ñº              ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  Handlers    ‚îÇ ‚îÇ Middlewares  ‚îÇ ‚îÇ   Services   ‚îÇ
‚îÇ              ‚îÇ ‚îÇ              ‚îÇ ‚îÇ              ‚îÇ
‚îÇ ‚Ä¢ start.py   ‚îÇ ‚îÇ ‚Ä¢ error_     ‚îÇ ‚îÇ ‚Ä¢ search_     ‚îÇ
‚îÇ ‚Ä¢ search.py  ‚îÇ ‚îÇ   middleware ‚îÇ ‚îÇ   service.py ‚îÇ
‚îÇ ‚Ä¢ help.py    ‚îÇ ‚îÇ ‚Ä¢ rate_limit ‚îÇ ‚îÇ ‚Ä¢ ai_service ‚îÇ
‚îÇ              ‚îÇ ‚îÇ ‚Ä¢ spam_      ‚îÇ ‚îÇ ‚Ä¢ notification‚îÇ
‚îÇ              ‚îÇ ‚îÇ   protection ‚îÇ ‚îÇ ‚Ä¢ telegram_  ‚îÇ
‚îÇ              ‚îÇ ‚îÇ              ‚îÇ ‚îÇ   api.py      ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
       ‚îÇ                ‚îÇ                ‚îÇ
       ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                        ‚îÇ
                        ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                    scrapers/                                 ‚îÇ
‚îÇ  ‚Ä¢ base.py - –±–∞–∑–æ–≤—ã–π –∫–ª–∞—Å—Å –¥–ª—è –≤—Å–µ—Ö –ø–∞—Ä—Å–µ—Ä–æ–≤               ‚îÇ
‚îÇ  ‚Ä¢ aggregator.py - –∞–≥—Ä–µ–≥–∞—Ç–æ—Ä –≤—Å–µ—Ö –ø–∞—Ä—Å–µ—Ä–æ–≤                 ‚îÇ
‚îÇ  ‚Ä¢ http_client.py - —É–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã–π HTTP-–∫–ª–∏–µ–Ω—Ç            ‚îÇ
‚îÇ  ‚Ä¢ dto.py - Data Transfer Objects –¥–ª—è –≤–∞–ª–∏–¥–∞—Ü–∏–∏            ‚îÇ
‚îÇ  ‚Ä¢ kufar.py, realt.py, etagi.py, ... - –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ –ø–∞—Ä—Å–µ—Ä—ã  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                       ‚îÇ
                       ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                    database.py                              ‚îÇ
‚îÇ  –ê–±—Å—Ç—Ä–∞–∫—Ü–∏—è –Ω–∞–¥ SQLite –∏ Turso, –µ–¥–∏–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å          ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                       ‚îÇ
        ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
        ‚îÇ              ‚îÇ              ‚îÇ
        ‚ñº              ‚ñº              ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  SQLite      ‚îÇ ‚îÇ   Turso      ‚îÇ ‚îÇ  error_      ‚îÇ
‚îÇ  database    ‚îÇ ‚îÇ   database   ‚îÇ ‚îÇ  logger.py   ‚îÇ
‚îÇ              ‚îÇ ‚îÇ              ‚îÇ ‚îÇ              ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### –û–ø–∏—Å–∞–Ω–∏–µ —Å–ª–æ—ë–≤

#### 1. **Entrypoint (`main.py`)**
- –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞ –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
- –ó–∞–≥—Ä—É–∂–∞–µ—Ç –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –∏–∑ `.env`
- –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö
- –ó–∞–ø—É—Å–∫–∞–µ—Ç Telegram-–±–æ—Ç —á–µ—Ä–µ–∑ `bot/app.py`
- –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –∑–∞–¥–∞—á (APScheduler) –¥–ª—è –ø–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–æ–π –ø—Ä–æ–≤–µ—Ä–∫–∏ –æ–±—ä—è–≤–ª–µ–Ω–∏–π

#### 2. **Bot Layer (`bot/app.py`)**
- –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è Aiogram Bot –∏ Dispatcher
- –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è middleware (rate limiting, spam protection, error handling)
- –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ routers –∏–∑ handlers
- –ù–∞—Å—Ç—Ä–æ–π–∫–∞ FSM (Finite State Machine) –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏—è–º–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

#### 3. **Handlers Layer (`bot/handlers/`)**
–û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∫–æ–º–∞–Ω–¥ –∏ callback-–∑–∞–ø—Ä–æ—Å–æ–≤ –æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π:
- **`start.py`** - –∫–æ–º–∞–Ω–¥–∞ `/start`, –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ —Ñ–∏–ª—å—Ç—Ä–æ–≤ —á–µ—Ä–µ–∑ FSM
- **`search.py`** - –∫–æ–º–∞–Ω–¥—ã `/check`, `/start_monitoring`, `/stop_monitoring`
- **`help.py`** - –∫–æ–º–∞–Ω–¥—ã `/help`, `/sources`

**–ü—Ä–∏–Ω—Ü–∏–ø —Ä–∞–±–æ—Ç—ã:**
- Handlers –ø–æ–ª—É—á–∞—é—Ç —Å–æ–±—ã—Ç–∏—è –æ—Ç Telegram API
- –î–µ–ª–µ–≥–∏—Ä—É—é—Ç –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫—É –≤ Services
- –ò—Å–ø–æ–ª—å–∑—É—é—Ç Services –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ –æ—Ç–≤–µ—Ç–æ–≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º

#### 4. **Middlewares Layer (`bot/middlewares/`)**
–ü—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω–æ–µ –ü–û –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∑–∞–ø—Ä–æ—Å–æ–≤:
- **`error_middleware.py`** - –ø–µ—Ä–µ—Ö–≤–∞—Ç –∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—à–∏–±–æ–∫
- **`rate_limit_middleware.py`** - –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ —á–∞—Å—Ç–æ—Ç—ã –∑–∞–ø—Ä–æ—Å–æ–≤ (–∑–∞—â–∏—Ç–∞ –æ—Ç –±–ª–æ–∫–∏—Ä–æ–≤–æ–∫ Telegram API)
- **`spam_protection_middleware.py`** - –∑–∞—â–∏—Ç–∞ –æ—Ç —Å–ø–∞–º-–∫–æ–º–∞–Ω–¥

**–ü–æ—Ä—è–¥–æ–∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è:**
1. Rate Limiting (–ø–µ—Ä–≤—ã–º)
2. Spam Protection (–≤—Ç–æ—Ä—ã–º)
3. Error Handling (–ø–æ—Å–ª–µ–¥–Ω–∏–º)

#### 5. **Services Layer (`bot/services/`)**
–ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è:
- **`search_service.py`** - –ø–æ–∏—Å–∫ –∏ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è –æ–±—ä—è–≤–ª–µ–Ω–∏–π:
  - –í–∞–ª–∏–¥–∞—Ü–∏—è —Ñ–∏–ª—å—Ç—Ä–æ–≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
  - –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è –æ–±—ä—è–≤–ª–µ–Ω–∏–π —Ñ–∏–ª—å—Ç—Ä–∞–º
  - –ü–æ–ª—É—á–µ–Ω–∏–µ –æ–±—ä—è–≤–ª–µ–Ω–∏–π –∏–∑ –∫—ç—à–∞ –∏–ª–∏ –ø–∞—Ä—Å–∏–Ω–≥ —Å–∞–π—Ç–æ–≤
  - –û–±—Ä–∞–±–æ—Ç–∫–∞ –Ω–æ–≤—ã—Ö –æ–±—ä—è–≤–ª–µ–Ω–∏–π –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

- **`ai_service.py`** - –ò–ò-–æ—Ü–µ–Ω–∫–∞ –æ–±—ä—è–≤–ª–µ–Ω–∏–π:
  - –û—Ü–µ–Ω–∫–∞ –æ–±—ä—è–≤–ª–µ–Ω–∏–π —á–µ—Ä–µ–∑ AI-–º–æ–¥–µ–ª—å
  - –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å –ø—Ä–µ–¥—ã–¥—É—â–∏–º–∏ –≤—ã–±—Ä–∞–Ω–Ω—ã–º–∏ –≤–∞—Ä–∏–∞–Ω—Ç–∞–º–∏
  - –í—ã–±–æ—Ä –ª—É—á—à–∏—Ö –æ–±—ä—è–≤–ª–µ–Ω–∏–π –ø–æ —Å–æ–æ—Ç–Ω–æ—à–µ–Ω–∏—é —Ü–µ–Ω–∞-–∫–∞—á–µ—Å—Ç–≤–æ

- **`notification_service.py`** - –æ—Ç–ø—Ä–∞–≤–∫–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π:
  - –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏–π –æ–± –æ–±—ä—è–≤–ª–µ–Ω–∏—è—Ö
  - –û—Ç–ø—Ä–∞–≤–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏–π —Å —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏—è–º–∏
  - –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –º–µ–Ω—é –¥–µ–π—Å—Ç–≤–∏–π

- **`telegram_api.py`** - –±–µ–∑–æ–ø–∞—Å–Ω—ã–µ –æ–±—ë—Ä—Ç–∫–∏ –¥–ª—è Telegram API:
  - –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ Telegram API (RetryAfter, RateLimit, etc.)
  - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ retry —Å —ç–∫—Å–ø–æ–Ω–µ–Ω—Ü–∏–∞–ª—å–Ω–æ–π –∑–∞–¥–µ—Ä–∂–∫–æ–π
  - –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—à–∏–±–æ–∫ –±–µ–∑ –ø–∞–¥–µ–Ω–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

#### 6. **Scrapers Layer (`scrapers/`)**
–ü–∞—Ä—Å–µ—Ä—ã —Å–∞–π—Ç–æ–≤ –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç–∏:
- **`base.py`** - –±–∞–∑–æ–≤—ã–π –∫–ª–∞—Å—Å `BaseScraper`:
  - –ê–±—Å—Ç—Ä–∞–∫—Ç–Ω—ã–π –º–µ—Ç–æ–¥ `fetch_listings()` –¥–ª—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –≤ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö –ø–∞—Ä—Å–µ—Ä–∞—Ö
  - –£–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã–π HTTP-–∫–ª–∏–µ–Ω—Ç —á–µ—Ä–µ–∑ `http_client.py`
  - –ö–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è –≤ `ListingDTO` –¥–ª—è –≤–∞–ª–∏–¥–∞—Ü–∏–∏

- **`aggregator.py`** - –∞–≥—Ä–µ–≥–∞—Ç–æ—Ä –≤—Å–µ—Ö –ø–∞—Ä—Å–µ—Ä–æ–≤:
  - –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã–π –∑–∞–ø—É—Å–∫ –≤—Å–µ—Ö –ø–∞—Ä—Å–µ—Ä–æ–≤ —á–µ—Ä–µ–∑ `asyncio.gather()`
  - –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –æ—Ç–¥–µ–ª—å–Ω—ã—Ö –ø–∞—Ä—Å–µ—Ä–æ–≤ (–æ–¥–∏–Ω —É–ø–∞–≤—à–∏–π –Ω–µ –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –æ—Å—Ç–∞–ª—å–Ω—ã–µ)
  - –î–µ–¥—É–ø–ª–∏–∫–∞—Ü–∏—è –æ–±—ä—è–≤–ª–µ–Ω–∏–π –ø–æ ID

- **`http_client.py`** - —É–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã–π HTTP-–∫–ª–∏–µ–Ω—Ç:
  - –ï–¥–∏–Ω—ã–π User-Agent –¥–ª—è –≤—Å–µ—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
  - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ retry (3 –ø–æ–ø—ã—Ç–∫–∏)
  - –¢–∞–π–º–∞—É—Ç—ã –¥–ª—è –≤—Å–µ—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
  - –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—à–∏–±–æ–∫

- **`dto.py`** - Data Transfer Objects:
  - `ListingDTO` - —Å—Ç–∞–Ω–¥–∞—Ä—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –æ–±—ä—è–≤–ª–µ–Ω–∏—è
  - –í–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö (—Ü–µ–Ω–∞ > 0, –≤–∞–ª–∏–¥–Ω—ã–π URL, –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è)

#### 7. **Database Layer (`database.py`, `database_turso.py`)**
–ê–±—Å—Ç—Ä–∞–∫—Ü–∏—è –Ω–∞–¥ –±–∞–∑–∞–º–∏ –¥–∞–Ω–Ω—ã—Ö:
- **`database.py`** - –µ–¥–∏–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å:
  - –§—É–Ω–∫—Ü–∏–∏ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏ –∏ —Ñ–∏–ª—å—Ç—Ä–∞–º–∏
  - –§—É–Ω–∫—Ü–∏–∏ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –æ–±—ä—è–≤–ª–µ–Ω–∏—è–º–∏ –∏ –∫—ç—à–µ–º
  - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –≤—ã–±–æ—Ä –º–µ–∂–¥—É SQLite –∏ Turso –Ω–∞ –æ—Å–Ω–æ–≤–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

- **`database_turso.py`** - —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –¥–ª—è Turso (LibSQL):
  - –¢—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º rollback
  - –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –æ–±—ä—è–≤–ª–µ–Ω–∏–π –¥–ª—è —É—Å–∫–æ—Ä–µ–Ω–∏—è –ø–æ–∏—Å–∫–∞
  - –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã –¥–ª—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏

#### 8. **Infrastructure Layer**
–í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ –º–æ–¥—É–ª–∏:
- **`config.py`** - –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è (–∑–∞–≥—Ä—É–∑–∫–∞ –∏–∑ `.env`)
- **`error_logger.py`** - —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ:
  - –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ —Ñ–∞–π–ª `logs/app.log`
  - –°–∞–Ω–∏—Ç–∏–∑–∞—Ü–∏—è —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö (—Ç–æ–∫–µ–Ω—ã, –ø–∞—Ä–æ–ª–∏)
  - –£—Ä–æ–≤–Ω–∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è (INFO, WARNING, ERROR, DEBUG)

### –ü–æ—Ç–æ–∫ –¥–∞–Ω–Ω—ã—Ö

```
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å ‚Üí Telegram API ‚Üí Handler ‚Üí Service ‚Üí Scraper/Database
                                                      ‚Üì
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å ‚Üê Telegram API ‚Üê Handler ‚Üê Service ‚Üê –†–µ–∑—É–ª—å—Ç–∞—Ç—ã
```

1. **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –∫–æ–º–∞–Ω–¥—É** ‚Üí Telegram API
2. **Middleware –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –∑–∞–ø—Ä–æ—Å** ‚Üí Rate Limiting, Spam Protection
3. **Handler –ø–æ–ª—É—á–∞–µ—Ç —Å–æ–±—ã—Ç–∏–µ** ‚Üí –û–ø—Ä–µ–¥–µ–ª—è–µ—Ç –∫–æ–º–∞–Ω–¥—É, –≤—ã–∑—ã–≤–∞–µ—Ç Service
4. **Service –≤—ã–ø–æ–ª–Ω—è–µ—Ç –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫—É** ‚Üí –û–±—Ä–∞—â–∞–µ—Ç—Å—è –∫ Scrapers –∏–ª–∏ Database
5. **Scraper –ø–∞—Ä—Å–∏—Ç —Å–∞–π—Ç—ã** ‚Üí –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å–ø–∏—Å–æ–∫ –æ–±—ä—è–≤–ª–µ–Ω–∏–π
6. **Service —Ñ–∏–ª—å—Ç—Ä—É–µ—Ç –æ–±—ä—è–≤–ª–µ–Ω–∏—è** ‚Üí –ü–æ –∫—Ä–∏—Ç–µ—Ä–∏—è–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
7. **Service –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã** ‚Üí –ß–µ—Ä–µ–∑ Telegram API –æ–±—Ä–∞—Ç–Ω–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### 1. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

```bash
cd "TG BOT"
pip install -r requirements.txt
```

### 2. –°–æ–∑–¥–∞–Ω–∏–µ Telegram –±–æ—Ç–∞

1. –û—Ç–∫—Ä–æ–π—Ç–µ [@BotFather](https://t.me/BotFather) –≤ Telegram
2. –û—Ç–ø—Ä–∞–≤—å—Ç–µ `/newbot`
3. –í–≤–µ–¥–∏—Ç–µ –∏–º—è –±–æ—Ç–∞ –∏ username
4. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –ø–æ–ª—É—á–µ–Ω–Ω—ã–π —Ç–æ–∫–µ–Ω

### 3. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env` –≤ –ø–∞–ø–∫–µ –ø—Ä–æ–µ–∫—Ç–∞:

```env
# –¢–æ–∫–µ–Ω –±–æ—Ç–∞ –æ—Ç @BotFather
BOT_TOKEN=1234567890:ABCdefGHIjklMNOpqrSTUvwxYZ

# –ò–Ω—Ç–µ—Ä–≤–∞–ª –ø—Ä–æ–≤–µ—Ä–∫–∏ –≤ –º–∏–Ω—É—Ç–∞—Ö
CHECK_INTERVAL=10

# –§–∏–ª—å—Ç—Ä—ã –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
DEFAULT_CITY=–±–∞—Ä–∞–Ω–æ–≤–∏—á–∏
DEFAULT_MIN_ROOMS=1
DEFAULT_MAX_ROOMS=4
DEFAULT_MIN_PRICE=0
DEFAULT_MAX_PRICE=100000

# –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ñ–æ—Ç–æ –≤ —Å–æ–æ–±—â–µ–Ω–∏–∏
MAX_PHOTOS=3

# Turso Database (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, –¥–ª—è –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è)
USE_TURSO_CACHE=true
TURSO_DB_URL=libsql://your-database.turso.io
TURSO_AUTH_TOKEN=your-auth-token
```

### 4. –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞

```bash
python main.py
```

## üí¨ –ö–æ–º–∞–Ω–¥—ã –±–æ—Ç–∞

| –ö–æ–º–∞–Ω–¥–∞ | –û–ø–∏—Å–∞–Ω–∏–µ |
|---------|----------|
| `/start` | –ù–∞—á–∞–ª–æ —Ä–∞–±–æ—Ç—ã |
| `/help` | –°–ø—Ä–∞–≤–∫–∞ –ø–æ –∫–æ–º–∞–Ω–¥–∞–º |
| `/filters` | –ü–æ–∫–∞–∑–∞—Ç—å —Ç–µ–∫—É—â–∏–µ —Ñ–∏–ª—å—Ç—Ä—ã |
| `/setrooms 1 3` | –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–æ–º–Ω–∞—Ç (–æ—Ç 1 –¥–æ 3) |
| `/setprice 10000 50000` | –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –¥–∏–∞–ø–∞–∑–æ–Ω —Ü–µ–Ω—ã ($) |
| `/setcity –±–∞—Ä–∞–Ω–æ–≤–∏—á–∏` | –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –≥–æ—Ä–æ–¥ |
| `/check` | –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –æ–±—ä—è–≤–ª–µ–Ω–∏—è —Å–µ–π—á–∞—Å |
| `/sources` | –°–ø–∏—Å–æ–∫ –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤ |
| `/start_monitoring` | –í–∫–ª—é—á–∏—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ |
| `/stop_monitoring` | –í—ã–∫–ª—é—á–∏—Ç—å –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ |
| `/stats` | –ü–æ–∫–∞–∑–∞—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É |

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
TG BOT/
‚îú‚îÄ‚îÄ main.py                    # Entrypoint –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
‚îú‚îÄ‚îÄ bot/                       # Telegram –±–æ—Ç
‚îÇ   ‚îú‚îÄ‚îÄ app.py                 # –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –±–æ—Ç–∞
‚îÇ   ‚îú‚îÄ‚îÄ handlers/              # –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∫–æ–º–∞–Ω–¥
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ start.py          # /start, –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ —Ñ–∏–ª—å—Ç—Ä–æ–≤
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ search.py         # /check, –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ help.py           # /help, /sources
‚îÇ   ‚îú‚îÄ‚îÄ middlewares/          # Middleware
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ error_middleware.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ rate_limit_middleware.py
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ spam_protection_middleware.py
‚îÇ   ‚îî‚îÄ‚îÄ services/             # –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞
‚îÇ       ‚îú‚îÄ‚îÄ search_service.py
‚îÇ       ‚îú‚îÄ‚îÄ ai_service.py
‚îÇ       ‚îú‚îÄ‚îÄ notification_service.py
‚îÇ       ‚îî‚îÄ‚îÄ telegram_api.py
‚îú‚îÄ‚îÄ scrapers/                 # –ü–∞—Ä—Å–µ—Ä—ã —Å–∞–π—Ç–æ–≤
‚îÇ   ‚îú‚îÄ‚îÄ base.py              # –ë–∞–∑–æ–≤—ã–π –∫–ª–∞—Å—Å
‚îÇ   ‚îú‚îÄ‚îÄ aggregator.py        # –ê–≥—Ä–µ–≥–∞—Ç–æ—Ä
‚îÇ   ‚îú‚îÄ‚îÄ http_client.py       # HTTP-–∫–ª–∏–µ–Ω—Ç
‚îÇ   ‚îú‚îÄ‚îÄ dto.py               # Data Transfer Objects
‚îÇ   ‚îú‚îÄ‚îÄ kufar.py
‚îÇ   ‚îú‚îÄ‚îÄ realt.py
‚îÇ   ‚îú‚îÄ‚îÄ etagi.py
‚îÇ   ‚îî‚îÄ‚îÄ ...
‚îú‚îÄ‚îÄ database.py               # –ê–±—Å—Ç—Ä–∞–∫—Ü–∏—è –ë–î
‚îú‚îÄ‚îÄ database_turso.py        # –†–µ–∞–ª–∏–∑–∞—Ü–∏—è Turso
‚îú‚îÄ‚îÄ config.py                 # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îú‚îÄ‚îÄ error_logger.py           # –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
‚îú‚îÄ‚îÄ tests/                    # –¢–µ—Å—Ç—ã
‚îÇ   ‚îú‚îÄ‚îÄ scrapers/
‚îÇ   ‚îî‚îÄ‚îÄ services/
‚îú‚îÄ‚îÄ requirements.txt          # –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
‚îú‚îÄ‚îÄ requirements-dev.txt      # Dev –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
‚îî‚îÄ‚îÄ README.md                 # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
```

## ‚ûï –ö–∞–∫ –¥–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–π scraper

### –®–∞–≥ 1: –°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª –ø–∞—Ä—Å–µ—Ä–∞

–°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π —Ñ–∞–π–ª –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ `scrapers/`, –Ω–∞–ø—Ä–∏–º–µ—Ä `scrapers/new_site.py`:

```python
"""
–ü–∞—Ä—Å–µ—Ä –¥–ª—è –Ω–æ–≤–æ–≥–æ —Å–∞–π—Ç–∞ –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç–∏
"""
from typing import List
from scrapers.base import BaseScraper, Listing
from scrapers.dto import ListingDTO


class NewSiteScraper(BaseScraper):
    """–ü–∞—Ä—Å–µ—Ä –¥–ª—è –Ω–æ–≤–æ–≥–æ —Å–∞–π—Ç–∞"""
    
    SOURCE_NAME = "new_site"
    BASE_URL = "https://example.com"
    
    async def fetch_listings(
        self,
        city: str = "",
        min_rooms: int = 1,
        max_rooms: int = 5,
        min_price: int = 0,
        max_price: int = 1000000,
    ) -> List[ListingDTO]:
        """–ü–æ–ª—É—á–∞–µ—Ç –æ–±—ä—è–≤–ª–µ–Ω–∏—è —Å —Å–∞–π—Ç–∞
        
        Args:
            city: –ì–æ—Ä–æ–¥ –¥–ª—è –ø–æ–∏—Å–∫–∞
            min_rooms: –ú–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–æ–º–Ω–∞—Ç
            max_rooms: –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–æ–º–Ω–∞—Ç
            min_price: –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è —Ü–µ–Ω–∞
            max_price: –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è —Ü–µ–Ω–∞
            
        Returns:
            –°–ø–∏—Å–æ–∫ –æ–±—ä—è–≤–ª–µ–Ω–∏–π –≤ —Ñ–æ—Ä–º–∞—Ç–µ ListingDTO
        """
        listings = []
        
        # 1. –ü–æ–ª—É—á–∏—Ç–µ HTML –∏–ª–∏ JSON —Å —Å–∞–π—Ç–∞
        html = await self._fetch_html(f"{self.BASE_URL}/search?city={city}")
        
        # 2. –†–∞—Å–ø–∞—Ä—Å–∏—Ç–µ –¥–∞–Ω–Ω—ã–µ (–∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ BeautifulSoup –¥–ª—è HTML)
        from bs4 import BeautifulSoup
        soup = BeautifulSoup(html, "html.parser")
        
        # 3. –ù–∞–π–¥–∏—Ç–µ –≤—Å–µ –æ–±—ä—è–≤–ª–µ–Ω–∏—è
        items = soup.find_all("div", class_="listing-item")
        
        # 4. –ü—Ä–µ–æ–±—Ä–∞–∑—É–π—Ç–µ –∫–∞–∂–¥–æ–µ –æ–±—ä—è–≤–ª–µ–Ω–∏–µ –≤ ListingDTO
        for item in items:
            try:
                # –ò–∑–≤–ª–µ–∫–∏—Ç–µ –¥–∞–Ω–Ω—ã–µ –∏–∑ HTML
                title = item.find("h2").text.strip()
                price_text = item.find("span", class_="price").text
                price = int(price_text.replace(" ", "").replace("$", ""))
                rooms = int(item.find("span", class_="rooms").text)
                area = float(item.find("span", class_="area").text.replace(" –º¬≤", ""))
                address = item.find("span", class_="address").text.strip()
                url = item.find("a")["href"]
                
                # –ï—Å–ª–∏ URL –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω—ã–π, —Å–¥–µ–ª–∞–π—Ç–µ –µ–≥–æ –∞–±—Å–æ–ª—é—Ç–Ω—ã–º
                if not url.startswith("http"):
                    url = f"{self.BASE_URL}{url}"
                
                # –°–æ–∑–¥–∞–π—Ç–µ ListingDTO
                listing_dto = ListingDTO(
                    title=title,
                    price=price,
                    url=url,
                    location=address,
                    source=self.SOURCE_NAME,
                )
                
                # –ö–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É–π—Ç–µ –≤ Listing –¥–ª—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏
                listing = Listing(
                    id=Listing.generate_id(self.SOURCE_NAME, url),
                    source=self.SOURCE_NAME,
                    title=title,
                    price=price,
                    price_formatted=f"${price:,}",
                    rooms=rooms,
                    area=area,
                    address=address,
                    url=url,
                )
                
                listings.append(listing_dto)
            except Exception as e:
                # –õ–æ–≥–∏—Ä—É–π—Ç–µ –æ—à–∏–±–∫–∏, –Ω–æ –ø—Ä–æ–¥–æ–ª–∂–∞–π—Ç–µ –æ–±—Ä–∞–±–æ—Ç–∫—É –¥—Ä—É–≥–∏—Ö –æ–±—ä—è–≤–ª–µ–Ω–∏–π
                self.logger.warning(f"–û—à–∏–±–∫–∞ –ø–∞—Ä—Å–∏–Ω–≥–∞ –æ–±—ä—è–≤–ª–µ–Ω–∏—è: {e}")
                continue
        
        return listings
```

### –®–∞–≥ 2: –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ –ø–∞—Ä—Å–µ—Ä –≤ –∞–≥—Ä–µ–≥–∞—Ç–æ—Ä–µ

–û—Ç–∫—Ä–æ–π—Ç–µ `scrapers/aggregator.py` –∏ –¥–æ–±–∞–≤—å—Ç–µ –∏–º–ø–æ—Ä—Ç –∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—é:

```python
from scrapers.new_site import NewSiteScraper

# –í –º–µ—Ç–æ–¥–µ __init__ –¥–æ–±–∞–≤—å—Ç–µ:
if "new_site" in enabled_sources:
    self.scrapers["new_site"] = NewSiteScraper()
```

### –®–∞–≥ 3: –î–æ–±–∞–≤—å—Ç–µ –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é

–û—Ç–∫—Ä–æ–π—Ç–µ `config.py` –∏ –¥–æ–±–∞–≤—å—Ç–µ –Ω–æ–≤—ã–π –∏—Å—Ç–æ—á–Ω–∏–∫ –≤ `DEFAULT_SOURCES`:

```python
DEFAULT_SOURCES = ["kufar", "etagi", "new_site"]
```

### –®–∞–≥ 4: –°–æ–∑–¥–∞–π—Ç–µ —Ç–µ—Å—Ç—ã

–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `tests/scrapers/test_new_site.py`:

```python
"""
Unit-—Ç–µ—Å—Ç—ã –¥–ª—è NewSiteScraper
"""
import pytest
from unittest.mock import AsyncMock, MagicMock, patch
from scrapers.new_site import NewSiteScraper
from scrapers.dto import ListingDTO


@pytest.mark.asyncio
async def test_fetch_listings_success():
    """–¢–µ—Å—Ç —É—Å–ø–µ—à–Ω–æ–≥–æ –ø–æ–ª—É—á–µ–Ω–∏—è –æ–±—ä—è–≤–ª–µ–Ω–∏–π"""
    scraper = NewSiteScraper()
    
    # –ú–æ–∫–∞–µ–º HTTP-–∫–ª–∏–µ–Ω—Ç
    mock_html = """
    <div class="listing-item">
        <h2>2-–∫–æ–º–Ω. –∫–≤–∞—Ä—Ç–∏—Ä–∞</h2>
        <span class="price">50000</span>
        <span class="rooms">2</span>
        <span class="area">50.0 –º¬≤</span>
        <span class="address">–ú–∏–Ω—Å–∫, —É–ª. –õ–µ–Ω–∏–Ω–∞, 1</span>
        <a href="/listing/123">–ü–æ–¥—Ä–æ–±–Ω–µ–µ</a>
    </div>
    """
    
    with patch.object(scraper, "_fetch_html", return_value=mock_html):
        listings = await scraper.fetch_listings(city="–º–∏–Ω—Å–∫")
        
        assert len(listings) > 0
        assert isinstance(listings[0], ListingDTO)
        assert listings[0].source == "new_site"
        assert listings[0].price > 0
```

### –®–∞–≥ 5: –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Ç–µ—Å—Ç—ã

```bash
pytest tests/scrapers/test_new_site.py -v
```

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ –ø–∞—Ä—Å–µ—Ä—É

1. **–ù–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ –æ—Ç `BaseScraper`** - –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ
2. **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `self._fetch_html()` –∏–ª–∏ `self._fetch_json()`** - –¥–ª—è HTTP-–∑–∞–ø—Ä–æ—Å–æ–≤
3. **–í–æ–∑–≤—Ä–∞—Ç `List[ListingDTO]`** - –¥–ª—è –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –¥–∞–Ω–Ω—ã—Ö
4. **–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫** - –ø–∞—Ä—Å–µ—Ä –Ω–µ –¥–æ–ª–∂–µ–Ω –ø–∞–¥–∞—Ç—å –ø—Ä–∏ –æ—à–∏–±–∫–µ –æ–¥–Ω–æ–≥–æ –æ–±—ä—è–≤–ª–µ–Ω–∏—è
5. **–ì–µ–Ω–µ—Ä–∞—Ü–∏—è —É–Ω–∏–∫–∞–ª—å–Ω–æ–≥–æ ID** - –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `Listing.generate_id(source, unique_data)`
6. **–ê–±—Å–æ–ª—é—Ç–Ω—ã–µ URL** - –ø—Ä–æ–≤–µ—Ä—è–π—Ç–µ, —á—Ç–æ URL –æ–±—ä—è–≤–ª–µ–Ω–∏–π –∞–±—Å–æ–ª—é—Ç–Ω—ã–µ

### –ü—Ä–∏–º–µ—Ä—ã —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –ø–∞—Ä—Å–µ—Ä–æ–≤

- **`scrapers/kufar.py`** - –ø–∞—Ä—Å–∏–Ω–≥ —á–µ—Ä–µ–∑ API (JSON)
- **`scrapers/etagi.py`** - –ø–∞—Ä—Å–∏–Ω–≥ HTML —á–µ—Ä–µ–∑ BeautifulSoup
- **`scrapers/realt.py`** - –ø–∞—Ä—Å–∏–Ω–≥ HTML —Å –ø–∞–≥–∏–Ω–∞—Ü–∏–µ–π

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### Unit-—Ç–µ—Å—Ç—ã –¥–ª—è –ø–∞—Ä—Å–µ—Ä–æ–≤

–ü—Ä–æ–µ–∫—Ç –≤–∫–ª—é—á–∞–µ—Ç –ø–æ–ª–Ω—ã–π –Ω–∞–±–æ—Ä unit-—Ç–µ—Å—Ç–æ–≤ –¥–ª—è –≤—Å–µ—Ö –ø–∞—Ä—Å–µ—Ä–æ–≤. **–¢–µ—Å—Ç—ã –ø–æ–ª–Ω–æ—Å—Ç—å—é –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω—ã** –∏ –Ω–µ —Ç—Ä–µ–±—É—é—Ç:
- ‚ùå –†–µ–∞–ª—å–Ω—ã—Ö HTTP-–∑–∞–ø—Ä–æ—Å–æ–≤ (–∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –º–æ–∫–∏)
- ‚ùå –ë–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
- ‚ùå –ü–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è (.env)
- ‚ùå –¢–æ–∫–µ–Ω–æ–≤ –∏–ª–∏ API –∫–ª—é—á–µ–π
- ‚ùå –°–µ—Ç–µ–≤–æ–≥–æ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è

**–¢–µ—Å—Ç—ã –º–æ–∂–Ω–æ –∑–∞–ø—É—Å–∫–∞—Ç—å –≤ –ª—é–±–æ–π —Å—Ä–µ–¥–µ –±–µ–∑ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–π –Ω–∞—Å—Ç—Ä–æ–π–∫–∏!**

### –ë—ã—Å—Ç—Ä—ã–π –∑–∞–ø—É—Å–∫

```bash
# –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –∫–æ—Ä–Ω–µ–≤—É—é –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –ø—Ä–æ–µ–∫—Ç–∞
cd "/Users/vmakhakei/TG BOT"

# –°–ø–æ—Å–æ–± 1: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å–∫—Ä–∏–ø—Ç–∞ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
python run_tests.py

# –°–ø–æ—Å–æ–± 2: –ß–µ—Ä–µ–∑ pytest –Ω–∞–ø—Ä—è–º—É—é
pytest tests/

# –°–ø–æ—Å–æ–± 3: Bash-—Å–∫—Ä–∏–ø—Ç (Linux/Mac)
./run_tests.sh

# –°–ø–æ—Å–æ–± 4: Python-—Å–∫—Ä–∏–ø—Ç —Å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–º–∏ –æ–ø—Ü–∏—è–º–∏
python run_tests.py --coverage
```

### –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –æ–ø—Ü–∏–∏

```bash
# –í—Å–µ —Ç–µ—Å—Ç—ã
pytest tests/ -v

# –ö–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π –º–æ–¥—É–ª—å
pytest tests/scrapers/test_kufar.py -v

# –ö–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π —Ç–µ—Å—Ç
pytest tests/scrapers/test_kufar.py::test_fetch_listings_success -v

# –° —Ñ–∏–ª—å—Ç—Ä–æ–º –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é
pytest tests/ -k kufar -v

# –° –ø–æ–∫—Ä—ã—Ç–∏–µ–º –∫–æ–¥–∞
pytest tests/ --cov=scrapers --cov-report=html

# –¢–æ–ª—å–∫–æ —Ç–µ—Å—Ç—ã –¥–ª—è —Å–µ—Ä–≤–∏—Å–æ–≤
pytest tests/services/ -v

# –¢–æ–ª—å–∫–æ —Ç–µ—Å—Ç—ã –¥–ª—è –ø–∞—Ä—Å–µ—Ä–æ–≤
pytest tests/scrapers/ -v
```

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –¥–ª—è —Ç–µ—Å—Ç–æ–≤

```bash
# –ë–∞–∑–æ–≤—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ (–≤–∫–ª—é—á–∞—è pytest)
pip install -r requirements.txt

# –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
pip install -r requirements-dev.txt
```

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ç–µ—Å—Ç–æ–≤

```
tests/
‚îú‚îÄ‚îÄ scrapers/              # –¢–µ—Å—Ç—ã –ø–∞—Ä—Å–µ—Ä–æ–≤
‚îÇ   ‚îú‚îÄ‚îÄ test_kufar.py
‚îÇ   ‚îú‚îÄ‚îÄ test_etagi.py
‚îÇ   ‚îú‚îÄ‚îÄ test_realt.py
‚îÇ   ‚îî‚îÄ‚îÄ ...
‚îú‚îÄ‚îÄ services/              # –¢–µ—Å—Ç—ã —Å–µ—Ä–≤–∏—Å–æ–≤
‚îÇ   ‚îî‚îÄ‚îÄ test_search_service.py
‚îî‚îÄ‚îÄ README.md              # –ü–æ–¥—Ä–æ–±–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ —Ç–µ—Å—Ç–∞–º
```

### –ß—Ç–æ —Ç–µ—Å—Ç–∏—Ä—É–µ—Ç—Å—è

#### –ü–∞—Ä—Å–µ—Ä—ã (`tests/scrapers/`)
- ‚úÖ –£—Å–ø–µ—à–Ω–æ–µ –ø–æ–ª—É—á–µ–Ω–∏–µ –æ–±—ä—è–≤–ª–µ–Ω–∏–π
- ‚úÖ –û–±—Ä–∞–±–æ—Ç–∫–∞ –ø—É—Å—Ç—ã—Ö –æ—Ç–≤–µ—Ç–æ–≤
- ‚úÖ –ö–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å –ø–∞—Ä—Å–∏–Ω–≥–∞ –¥–∞–Ω–Ω—ã—Ö
- ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è —Å—Ç—Ä—É–∫—Ç—É—Ä—ã `ListingDTO`
- ‚úÖ –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ HTTP-–∑–∞–ø—Ä–æ—Å–æ–≤

#### –°–µ—Ä–≤–∏—Å—ã (`tests/services/`)
- ‚úÖ –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –æ–±—ä—è–≤–ª–µ–Ω–∏–π –ø–æ –∫—Ä–∏—Ç–µ—Ä–∏—è–º
- ‚úÖ –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –æ–±—ä—è–≤–ª–µ–Ω–∏–π
- ‚úÖ –û–±—Ä–∞–±–æ—Ç–∫–∞ –ø—É—Å—Ç—ã—Ö —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
- ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è —Ñ–∏–ª—å—Ç—Ä–æ–≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

–ü–æ–¥—Ä–æ–±–Ω–µ–µ –æ —Ç–µ—Å—Ç–∞—Ö: [tests/README.md](tests/README.md) –∏ [TESTING.md](TESTING.md)

### –†—É—á–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–∞—Ä—Å–µ—Ä–æ–≤

```bash
# –¢–µ—Å—Ç –∞–≥—Ä–µ–≥–∞—Ç–æ—Ä–∞ (–≤—Å–µ –ø–∞—Ä—Å–µ—Ä—ã)
python -m scrapers.aggregator

# –¢–µ—Å—Ç –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –ø–∞—Ä—Å–µ—Ä–∞
python -c "
import asyncio
from scrapers.kufar import KufarScraper

async def test():
    async with KufarScraper() as s:
        listings = await s.fetch_listings()
        print(f'–ù–∞–π–¥–µ–Ω–æ: {len(listings)}')
        for l in listings[:3]:
            print(f'{l.title} - {l.price_formatted}')

asyncio.run(test())
"
```

## üì∏ –ü—Ä–∏–º–µ—Ä —Å–æ–æ–±—â–µ–Ω–∏—è

```
üè† 2-–∫–æ–º–Ω. ‚Ä¢ 54.0 –º¬≤

üí∞ –¶–µ–Ω–∞: $35 000
üö™ –ö–æ–º–Ω–∞—Ç: 2
üìê –ü–ª–æ—â–∞–¥—å: 54.0 –º¬≤
üìç –ê–¥—Ä–µ—Å: —É–ª. –°–æ–≤–µ—Ç—Å–∫–∞—è, 15
üåê –ò—Å—Ç–æ—á–Ω–∏–∫: Kufar.by

üîó –û—Ç–∫—Ä—ã—Ç—å –æ–±—ä—è–≤–ª–µ–Ω–∏–µ
```

## üÜì –ë–µ—Å–ø–ª–∞—Ç–Ω—ã–π —Ö–æ—Å—Ç–∏–Ω–≥

–ü–æ–¥—Ä–æ–±–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –≤ —Ñ–∞–π–ª–µ [HOSTING.md](HOSTING.md)

### –õ—É—á—à–∏–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã:

| –°–µ—Ä–≤–∏—Å | –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç—å |
|--------|-------------|
| **Railway.app** | 500—á/–º–µ—Å –±–µ—Å–ø–ª–∞—Ç–Ω–æ, –ø—Ä–æ—Å—Ç–æ–π –¥–µ–ø–ª–æ–π |
| **Render.com** | 750—á/–º–µ—Å –±–µ—Å–ø–ª–∞—Ç–Ω–æ |
| **Oracle Cloud** | –ë–µ—Å–ø–ª–∞—Ç–Ω—ã–π VPS –ù–ê–í–°–ï–ì–î–ê |
| **Fly.io** | 3 –±–µ—Å–ø–ª–∞—Ç–Ω—ã—Ö VM |

### –ë—ã—Å—Ç—Ä—ã–π –¥–µ–ø–ª–æ–π –Ω–∞ Railway:

1. –ó–∞–≥—Ä—É–∑–∏—Ç–µ –∫–æ–¥ –Ω–∞ GitHub
2. –ó–∞–π–¥–∏—Ç–µ –Ω–∞ [railway.app](https://railway.app)
3. Deploy from GitHub ‚Üí –≤—ã–±–µ—Ä–∏—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
4. –î–æ–±–∞–≤—å—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é `BOT_TOKEN`
5. –ì–æ—Ç–æ–≤–æ! üéâ

## üîß –í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

### –ù–µ—Ç –Ω–æ–≤—ã—Ö –æ–±—ä—è–≤–ª–µ–Ω–∏–π

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Ñ–∏–ª—å—Ç—Ä–æ–≤ –∫–æ–º–∞–Ω–¥–æ–π `/filters`
2. –í–æ–∑–º–æ–∂–Ω–æ, –≤—Å–µ –Ω–∞–π–¥–µ–Ω–Ω—ã–µ –æ–±—ä—è–≤–ª–µ–Ω–∏—è —É–∂–µ –±—ã–ª–∏ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω—ã
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –≤ —Ñ–∞–π–ª–µ `logs/app.log`

### –û—à–∏–±–∫–∞ –ø—Ä–∏ –ø–∞—Ä—Å–∏–Ω–≥–µ

–°–∞–π—Ç—ã –º–æ–≥—É—Ç –º–µ–Ω—è—Ç—å —Å–≤–æ—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –∏ –æ–±–Ω–æ–≤–∏—Ç–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–π –ø–∞—Ä—Å–µ—Ä –≤ –ø–∞–ø–∫–µ `scrapers/`.

## üìö –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- [TESTING.md](TESTING.md) - –ü–æ–¥—Ä–æ–±–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é
- [CODE_QUALITY.md](CODE_QUALITY.md) - –û—Ç—á–µ—Ç –æ –∫–∞—á–µ—Å—Ç–≤–µ –∫–æ–¥–∞
- [HOSTING.md](HOSTING.md) - –ì–∞–π–¥ –ø–æ –±–µ—Å–ø–ª–∞—Ç–Ω–æ–º—É —Ö–æ—Å—Ç–∏–Ω–≥—É
- [AI_SETUP.md](AI_SETUP.md) - –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ò–ò-—Ä–µ–∂–∏–º–∞
- [tests/README.md](tests/README.md) - –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ —Ç–µ—Å—Ç–∞–º

## üìÑ –õ–∏—Ü–µ–Ω–∑–∏—è

MIT License - –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–∞–∫ —Ö–æ—Ç–∏—Ç–µ!

## ü§ù –ê–≤—Ç–æ—Ä

–°–æ–∑–¥–∞–Ω–æ —Å ‚ù§Ô∏è –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ —Ä—ã–Ω–∫–∞ –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç–∏ –≤ –ë–∞—Ä–∞–Ω–æ–≤–∏—á–∞—Ö.
